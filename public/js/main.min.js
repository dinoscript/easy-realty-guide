$(document).ready(function(){function t(t){var a={lat:t.locationLat,lng:t.locationLng};return e=new google.maps.Map(document.getElementById("google-map"),{zoom:15,center:a})}function a(t){var a={lat:t.locationLat,lng:t.locationLng};return l=new google.maps.Marker({position:a,map:e,title:t.fullPlaceAddress}),google.maps.event.addListener(l,"click",function(a){return function(){o.close(),o.setContent(t.buildingType+": "+t.fullPlaceAddress),o.open(e,a),console.log(a)}}(l)),l}var e,l,o,n=[];$.ajax({url:"products_data/data_json/data_list.json",dataType:"json",success:function(s){function d(){$.ajax({url:n[i].url,dataType:"json",success:function(s){e||(t(s),o=new google.maps.InfoWindow({pixelOffset:new google.maps.Size(0,20),maxWidth:250})),l=a(s),$(".hotDeals").append('<div class="col-md-4 col-sm-6 hotDeals-item"><a href="#hotDealsModal" class="hotDeals-link" data-toggle="modal" data-index="'+i+'"><div class="hotDeals-hover"><div class="hotDeals-hover-content"><span class="fa fa-search fa-5x" aria-hidden="true"></span></div></div><img src="'+s.imgUrl+'" class="img-responsive" alt=""></a><div class="hotDeals-caption"><h4> Building type: '+s.buildingType+'</h4><p class="text-muted">'+s.shortPlaceName+"</p></div></div>"),function(t,a){$('.hotDeals-link[data-index="'+t+'"]').click(function(){$(".hotDeals-link").removeClass("selected"),$(this).addClass("selected"),$("#info-table").html('<table class="table" table-collapse="collapse"><tbody><tr><td class="cell-left">Building Type</td><td>'+s.buildingType+"</td></tr><tr><td>Full Place Address</td><td>"+s.fullPlaceAddress+'</td></tr><tr><td>Location Lat</td><td class="cell-right">'+s.locationLat+"</td></tr><tr><td>Location Lng</td><td>"+s.locationLng+"</td></tr><tr><td>Description</td><td>"+s.description+"</td></tr></tbody></table>"),e.panTo(a.getPosition())})}(i,l),i++,i<n.length?d():$(".hotDeals-link[data-index=0]").click()}})}$.each(s,function(t,a){n.push({url:a})});var i=0;d()}})});